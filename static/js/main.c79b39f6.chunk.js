(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"previous",function(){return E}),a.d(n,"next",function(){return j}),a.d(n,"getApod",function(){return y}),a.d(n,"default",function(){return A});var r=a(0),c=a.n(r),o=a(46),i=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,d=a(13),p=a(4),u=a(9),s=a.n(u),m=a(19),v=a(50),f=a(151),_=a(150),g=a(51),w=a(52),b=a.n(w),h=a(27),O=a.n(h),E=Object(f.a)("apod/PREVIOUS"),j=Object(f.a)("apod/NEXT"),y=Object(f.a)("apod/GET_APOD",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b.a.get("https://api.nasa.gov/planetary/apod?api_key=IIwRp1MU4U9Y8TruzTTSlRMDHYrvaK5pAgYa7hTm&date=".concat(e))}),N=Object(g.Map)({maxDate:null,date:null,url:null,mediaType:null}),A=Object(_.a)(Object(v.a)((l={},Object(m.a)(l,"apod/PREVIOUS",function(e){return e.update("date",function(e){return O()(e).subtract(1,"days").format("YYYY-MM-DD")})}),Object(m.a)(l,"apod/NEXT",function(e){return e.update("date",function(e){return O()(e).add(1,"days").format("YYYY-MM-DD")})}),l),Object(u.pender)({type:"apod/GET_APOD",onSuccess:function(e,t){var a=t.payload.data,n=a.date,r=a.url,c=a.media_type,o=e;return o.get("date")||(o=o.set("date",n).set("maxDate",n)),o.set("mediaType",c).set("url",r)}})),N),D=Object(p.c)({apod:A,pender:u.penderReducer}),T=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,t=[s()()];return Object(p.e)(D,e(p.a.apply(void 0,t)))}(),x=a(10),k=a(11),S=a(14),P=a(12),Y=a(15),M=a(20),C=a.n(M),R=function(e){var t=e.viewer,a=e.spaceNavigator;return c.a.createElement("div",{className:C.a.viewer_template},c.a.createElement("header",null,"Astronomy Picture of the Day"),c.a.createElement("div",{className:C.a.viewer_wrapper},t,c.a.createElement("div",{className:C.a.space_navigator_wrapper},a)))},U=a(28),I=a.n(U),V=a(54),q=a(29),F=a.n(q),G=a(55),X=function(e){var t=e.mediaType,a=e.url;return e.loading?c.a.createElement("div",{className:F.a.viewer},c.a.createElement(G.FadingCircle,{color:"white",size:60})):a?c.a.createElement("div",{className:F.a.viewer},"image"===t?c.a.createElement("img",{onClick:function(){return window.open(a)},src:a,alt:"space"}):c.a.createElement("iframe",{title:"space-video",src:a,frameBorder:"0",allow:"encrypted-media",allowFullScreen:!0})):null},B=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).req=null,a.getApod=Object(V.a)(I.a.mark(function e(){var t,n,r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.ApodActions,r=t.loading,c=t.date,r&&a.req.cancel(),e.prev=2,a.req=n.getApod(c||""),e.next=6,a.req;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[2,8]])})),a}return Object(Y.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.getApod()}},{key:"componentDidUpdate",value:function(e,t){this.props.date!==e.date&&this.getApod()}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.url,n=e.mediaType,r=e.loading;return c.a.createElement(X,{date:t,url:a,mediaType:n,loading:r})}}]),t}(r.Component),J=Object(d.b)(function(e){return{date:e.apod.get("date"),url:e.apod.get("url"),mediaType:e.apod.get("mediaType"),loading:e.pender.pending["apod/GET_APOD"]}},function(e){return{ApodActions:Object(p.b)(n,e)}})(B),z=a(30),L=a(21),W=a.n(L),H=a(56),K=a.n(H).a.bind(W.a),Q=function(e){var t=e.onPrev,a=e.onNext,n=e.endDate;return c.a.createElement("div",{className:K("space_navigator")},c.a.createElement("div",{className:[W.a.left,W.a.end].join(" ")},c.a.createElement("div",{className:K("circle"),onClick:t},c.a.createElement(z.a,null))),n?null:c.a.createElement("div",{className:K("right","end")},c.a.createElement("div",{className:K("circle"),onClick:a},c.a.createElement(z.b,null))))},Z=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).handlePrev=function(){a.props.ApodActions.previous()},a.handleNext=function(){var e=a.props,t=e.ApodActions;e.date!==e.maxDate&&t.next()},a}return Object(Y.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.handlePrev,t=this.handleNext,a=this.props,n=a.date,r=a.maxDate;return c.a.createElement(Q,{onPrev:e,onNext:t,endDate:n===r})}}]),t}(r.Component),$=Object(d.b)(function(e){return{date:e.apod.get("date"),maxDate:e.apod.get("maxDate")}},function(e){return{ApodActions:Object(p.b)(n,e)}})(Z),ee=function(e){function t(){return Object(x.a)(this,t),Object(S.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement(R,{viewer:c.a.createElement(J,null),spaceNavigator:c.a.createElement($,null)})}}]),t}(r.Component),te=function(){return c.a.createElement(d.a,{store:T},c.a.createElement(ee,null))};a(146);i.a.render(c.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},20:function(e,t,a){e.exports={viewer_template:"ViewTemplate_viewer_template__2y4kU",viewer_wrapper:"ViewTemplate_viewer_wrapper__3GQD6"}},21:function(e,t,a){e.exports={space_navigator:"SpaceNavigator_space_navigator__14En_",end:"SpaceNavigator_end__bRLFh",left:"SpaceNavigator_left__2k2r4",right:"SpaceNavigator_right__38Fgj",circle:"SpaceNavigator_circle__2PsOT"}},29:function(e,t,a){e.exports={viewer:"Viewer_viewer__JrZYt"}},57:function(e,t,a){e.exports=a(148)}},[[57,2,1]]]);
//# sourceMappingURL=main.c79b39f6.chunk.js.map